###
- 데이터 중심 설계에서 책임 중심의 설계로 전환할 때는 다음과 같은 원칙을 따라야 한다.
- 데이터보다 행동을 먼저 결정하라.
- 협력이라는 문맥 안에서 책임을 결정하라.

- 객체지향 설계에서 너무 이른 시기에 데이터에 초점을 맞추게 되면 객체의 캡슐화가 약화되기 때문에 낮은 응집도와 높은 결합도를 가진 객체들로 넘쳐나게 된다.
- 그 결과로 얻게 되는 것은 변경에 취약한 설계다.
- 반대로 책임 중심의 설계에서는 객체의 행동, 즉 책임을 먼저 결정한 후에 객체의 상태를 결정한다는 것이다.
- 어떤 객체에게 어떤 책임을 할당할 지는 협력에서 실마리를 찾을 수 있다.

- 책임은 객체의 입장이 아니라 객체가 참여하는 협력에 적합해야 한다. 협력을 시작하는 주체는 메시지 전송자이기 때문에, 협력에 적합한 책임이란 메시지 수신사가 아니라 메시지 전송자에게 적합한 책임을 의미하는 것을 알 수 있다.
- 협력에 적합한 책임을 수확하기 위해서는 객체를 결정한 후에 메시지를 선택하는 것이 아니라 메시지를 결정한 후에 객체를 선택해야 한다.
- 메시지를 먼저 결정하면 송신자는 수신자에 대한 어떤한 가정도 할 수 없다. 전송자 관점에서 수신자가 캡슐화 되는 것이다.

###
- GRASP(일반적인 책임 할당을 위한 소프트웨어 패턴)을 통해 책임 중심 설계를 할 수 있다.

- 책임 주도 설계 방식의 첫 단계는 애플리케이션이 제공해야 하는 기능을 애플리케이션의 책임으로 생각하는 것이다.
- 이 책임을 애플리케이션에 대해 전송된 메시지로 간주하고 이 메시지를 책임질 첫 번째 객체를 선택하는 것으로 설계를 시작한다.
- 따라서 첫 번째 질문은 다음과 같다. - 메시지를 전송할 객체는 무엇을 원하는가?
- 두 번째 질문은 '메시지를 수신할 적합한 객체는 누구인가?'
- 객체는 자신의 상태를 스스로 처리하는 자율적인 존재이다. 객체의 책임과 책임을 수행하는 데 필요한 상태는 객체 안에 존재해야 한다.
- 따라서 객체에게 책임을 할당하는 첫 번째 원칙은 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것이다. GRASP에서는 이를 정보 전문가 패턴이라고 부른다.
- 다음으로 고려할 필요가 있는 패턴은 LOW COUPLING(낮은 결합도) 패턴과 HIGH COHESION(높은 응집도) 패턴이다.
- 낮은 결합도 패턴은 설계의 전체적인 결합도를 낮게 유지하여 의존성을 낮추고 변화의 영향을 줄이며 재사용성을 증가시킬 수 있다.
- 높은 응집도 패턴은 높은 응집도를 유지하여 복잡성을 관리할 수 있는 수준으로 유지해주는 패턴이다.
- 협력에 참여하는 어떤 객체에게는 객체의 인스턴스를 생성할 책임을 할당해야 한다. CREATOR 패턴은 이 같은 경우에 사용할 수 있는 패턴으로 객체를 생성할 때 책임을 어떤 객체에게 할당할 지에 한 지침을 제공한다.
- 객체 A를 생성할 때 아래 조건을 최대한 많이 만족하는 B에게 객체 생성 책임을 할당하라.
- B가 A를 포함하거나 참조환다.
- B가 A를 기록한다.
- B가 A를 긴밀하게 사용한다.
- B가 A를 초기화하는 데 필요한 데이터를 가지고 있다.(이 경우 B는 A에 대한 정보 전문가다)
- CREATOR 패턴은 이미 존재하는 객체 사이의 관계를 이용하기 때문에 설계가 낮은 결합도를 유지할 수 있게 한다.

###
- 클래스의 응집도를 다음과 같이 판단할 수 있다.
- 객체가 하나 이상의 변경 이유를 가지면 그 객체의 응집도는 낮은 것이다. 변경의 이유를 기준으로 클래스를 분리해야 한다.
- 클래스의 인스턴스를 초기화하는 시점에 경우 따라 서로 다른 속성들을 초기화하고 있다면 응집도가 낮은 것이다. 초기화 되는 속성의 그룹을 기준으로 클래스를 분리해야 한다.
- 메서드 그룹이 속성 그룹을 사용하는지 여부로 나뉘면 응집도가 낮은 것이다. 이들 그룹을 기준으로 클래스를 분리해야 한다.
- 분리 과정에서 다음의 패턴을 사용할 수 있다.
- 다형성 패턴: 객체의 타입에 따라 변하는 로직이 있을 때 타입을 명시적으로 정의하고 각 타입에 다형적으로 행동하는 책임을 할당하라.
- 변경 보호 패턴: 객체, 서브시스템, 그리고 시스템을 설계할 때 변화가 예상되는 지점들을 식별하고 그 주위에 안정된 인터페이스를 형성하도록 책임을 할당하라.

- 몬스터 메서드란, 긴 길이로 인해 응집도가 낮아 이해하기도 어렵고 재사용하기도 어려우면 변경하기도 어려운 메서드를 뜻한다.
- 이 경우 메서드를 작게 분해해서 각 메서드의 응집도를 높여야 한다. 메서드의 크기가 작고 목적이 분명하면 수정과 재사용이 쉬워진다.