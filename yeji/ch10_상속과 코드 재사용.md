- 객체지향 프로그래밍의 장점중 하나는 코드를 재사용하기 용이하다는것. = 중복 코드제거
    - 새로운 클래스 추가를 통해 재사용
    - 상속(클래스 내 인스턴스변수와 메서드를 자동으로 추가해줌)
    - 합성(클래스 내에 클래스 인스턴스를 포함시킴)

## [상속과 중복코드]

- DRY 원칙
    - 요구사항이 변경됐을 때 **코드를 함께 수정해야 한다면 중복** (변경에 반응하는 방식)
    - **DRY원칙** : don’t repeat yourself
        - 모든 시스템 내에서 단일하고, 애매하지 않고, 믿을만한 표현양식을 가져야 한다
        - once and only once, 단일지점제어 원칙
- 중복과 변경
    - 어떤 코드가 중복인지 파악하기도 어렵고, 변경시 모든 코드를 함께 수정해야함
    - 중복을 제거하는 벙법중 하나는 클래스를 하나로 합친다.
        - 타입코드를 추가하여 사용하는 방식은 낮은 응집도와 높은 결합도가 생김
    - **상속**
        - 이미 존재하는 클래스와 유사한 클래스가 필요한 경우 코드를 복사하지 않고 **상속을 이용해 코드를 재사용**
        - 부모코드를호출해서 전체 계산후 심야정책을 마이너스하는방식 → 개발자의 가정을 이해하기 전에킄 코드를 이해하기 여럽다는 예시, 상속을 염두에 두지 않고 작성한 코드는 재사용이어렵다 → 부모클래스에 새로운 로직이 생기는경우 자식클래스도 비슷하게 수정해야됨 ( 구현에 강하게 결합) = **취약한 기반 클래스 문제**라고 부름
        - 상속은 자식클래스의 작성자가 부모클래스의구현방법에 대한 정확한 지식을 요구하기 떄문에 **결합도를 높인다.**
        - 자식클래스의 메서드안에서 **super** 참조를 이용해 부모클래스의 메서드를 직접 호출할 경우 강하게 결합되기 때문에 제거할수있는방법을 찾아 결합도를 제거하라(상속을 위한 경고)

## [취약한 기반 클래스 문제]

- **취약한 기반 클래스 문제 :** 부모클래스 변경에 의해 자식 클래스가 영향을 받는 현상
    - 부모 클래스 구현에 의존하여 캡슐화를 약화시키고 결합도를 높인다.
        - 객체는 퍼블릭인터페이스를 제공하고 캡슐화로 숨겨서 통해 변경에 의한 파급효과를 제어하기 때문에 가치있음 < 객체지향의 기반은 캡슐화를 통한 변경의 통제
        - 상속은 인터페이스가 아닌 구현 변경만으로 자식에게 영향을 끼침
- **불필요한 인터페이스 상속문제**
    - 상속받은 부모클래스의 메서드가 자식 클래스의 내부 구조에 대한 규칙을 깨트릴수있다.
        - 초창기 자바에서 Stack이 vector를 상속받아 임이의 위치의 요소 변경이 가능하는것처럼
    - 객체지향의 핵심은 협력. 단순히 코드 재사용을 위해 불필요한 오퍼레이션이 인터페이스에 스며들면 안된다.
- **메서드 오버라이딩의 오작용 문제**
    - 자식클래스가 부모클래스의 메서드를 오버라이딩 할 경우 부모클래스가 자신의 메서드르 ㄹ사용하는 방법에 자식클래스가 결합될 수 있다.
        - 상속을 위해 클래스를 설계하고 문서화해야하며, 그외에는 금지시켜야한다
            - 내부 구현 문서화시 캡술화와 트레이드 오프
- 부모클래스와 자식 클래스의 동시 수정 문제
    - 다른 문제가 없어도 부모클래스 수정 시 자식클래스를 함께 수정해야 할 수 있음
    - 클래스를 상속하면 결합도로 인해 부모&자식을 영원히 변경하지 않거나 동시에 변경하거나이다.

## [다시 살펴보기]

- 부모,자식 둘다 추상화에 의존하게 하여 해결
- **메서드가 유사하면 차이점을 메서드로 추출하라**. 이를통해 두 메서드를 동일한 형태로 보이도록 할 수 있다
    - 변하는 부분을 변하지 않는것에서 분리하고 캡슐화
    - 여기서는 전화요금계산을 분리하고 같은 전체요금계산 코드를 부모로 옮긴 후 전화요금은 시그니처만 이동하여 오버라이딩해서 사용
    - 차이점을 메서드로 추출하고 공통적인 부분을 부모로 보내라 (이름도 적절하게 선택)
- 부모 클래스의 코드를 하위로 내리지 말고 자식클래스의 코드를 상위로 올려라. 부모의 구체적인 메서드를 자식으로 내리는것보다 자식클래스의 추상적인 메서드를 부모로 올리는것이 재사용성과 응집도 측면에서 뛰어나다.

## [차이에 의한 프로그래밍]

- 기존 코드와 다른 부분만을 추가함으로 애플리케이션의 기느을 확장하는 방법
    - 목표는 중복코드를 제거하고 코드를 재사용하는 것 (동일한 행동을 가리키는 단어)
    - 중복제거 = 코드를 재사용 가능한 단위로 분해하고 재구성
    - 코드 재사용 = 중복코드를 제거해서 하나의 모듈로 모은다.
    - 재사용은 코드 작성수고보다 아닌 품질측면에서 좋다
- 상속보다 합성이 코드 재사용에 더 우아한 방식.
