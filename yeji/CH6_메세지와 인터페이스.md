- 객체지향 코드는 클래스가 아닌 객체중심 (객체가 수행하는 책임)
- 책임이 객체가 수신할 수 있는 메시지의 기반이 됨 , 메세지가 퍼블릭 인터페이스를 구성

## [협력과 메시지]

클라이언트-서버 모델

- 클라이언트-서버 모델 - 메세지 전송 : 클라이언트 , 메세지 수신 : 서버
- 협력 = 클라이언트가 서버의 서비스를 요청하는 단방향 상호작용

메시지와 메시지 전송

- 메시지는 개체 사이의 협력을 가능하게 하는 매개체, 다른 객체에 접근하는 유일한 방법
- 메시지전송 = 메시지 패싱 : 한 객체가 다른 객체에게 도움을 요청
- 메시지 전송자 /메시지 수신자
- **메시지** = 오퍼레이션명 + 인자로 구성 / 메시지 전송 = 메시지 + 메시지수신자
    - A.method(x) 수신자.오퍼레이션명(인자)

메시지와 메서드

- 실제로 실행되는 코드는 메시지 수신자의 타입에 따라 결정(인터페이스를 실체화한 클래스의 종류에 따라 달라짐)
- **메서드** : 메시지 수신시 실제로 실행되는 함수,프로시저
- 어떤코드가 실행될지 알수 없는 상태 →느슨한 결합

퍼블릭 인터페이스와 오퍼레이션

- **퍼블릭 인터페이스** : 객체가 의사소통을 위해 외부에 공개하는 메세지의 집합
- **오퍼레이션** : 퍼블릭 인터페이스에 포함된 메세지 (행동에 대한 추상화, 구현x)

시그니처

- **시그니처** = 오퍼레이션 + 파라미터 목록 / 메서드 = 시그니처+구현
- 다형성 → 동일한 오퍼레이션 호출에 서로 다른 메서드들이 실행되는 것

## [인터페이스와 설계품질]

- 최소한, 추상적인 인터페이스 - 꼭필요한 오퍼레이션만, 어떻게가 아닌 무엇을
- **디미터 법칙** (캡슐화의구체적인 지침)
    - **강하게 결합되지 않도록 협력경로 제한** (하나의도트만 사용)
        - 기필코 하나의 도트만X, steram에서느 동일한 클래스의 인스턴스를 반환하고 변환될 뿐임, 내부구현에 대한 정보가 드러나지 않으면
    - M의인자로 전달된 클래스,C의 인스턴스 변수의 클래스
    - 기차충돌X (반환받은 내부 요소에 메시지전송X
    - 자신을 책임지는 자율적인 존재
    - 위배 시 인터페이스와 구현의 분치원칙도 위배됨
        - screening의 본질은 영화예매인데 할인조건판단까지 맡음 , 디미터법칙의 위반여부는 묻는 대상이 객체(숨기기)인지 자료구조(내부노출가)인지에 달려이씀
- **묻지말고 시켜라**
    - 수신자가 담당, 캡슐화
    - **상태를 묻는 오퍼레이션 대신 요청하는 오퍼레이션 권장**
        - 결합도와 응집도가 충돌 할 수 있음, 하나의 변경 원인만을 가지자
- **의도를 드러내는 인터페이스**
    - **메서드 명은 어떻게가 아닌 무엇을 하는지**  = 의도를 드러내는 선택자(Intention revealing Selector)
    - 의도를 드러내는 인터페이스 - 구현을 모두 캡슐화하고 객체의 퍼블릭 인터페이스는 협력과 관련된 의도만 표현
    - 묻지 말고 시키되 구현방법이 아닌 클라이언트의 의도를 드러내자
- 명령 쿼리 분리
    - (퍼블릭 인터페이스에 오퍼레이션을 정의하는 지침)
    - 명령이거나 쿼리이거나 둘중 하나여야함.
        - 참조투명성 - e를 값으로 바꿔도 결과가 다르지 않음 -  부수효과 제어
        - 불변성 - 값이 변하지 않음 - 부수효과가 발생하지 않음
        - 부수효과 기반의 프로그래밍은 명령형 프로그래
    - 루틴 : 어떤 절차를 묶어 호출 가능하도록 이름을 부여한 기능 모듈
        - 프로시저 : 정해진 절차에 따라 내부의 상태를 변경하는 루틴의 종류 (값반환X)
        - 함수 : 어떤 절차에 따라 필요한 값을 계산해서 반환하는 루틴의 한 종류
    - 명령 = 객체의 상태 수정 = 프로시저
    - 쿼리 = 객체와 관련된 정보반환 =함수
- 책임에 초점을 맞춰라
    - 메세지를 먼저 선택하고 객체를 선택하면 ,디미터를 준수하고 묻지말고 시켜라 스타일이면서 의도를 드러냄
        - 디미터 - 메세지를 먼저 결정하여 결합도를 낮춘다. 수신객체를 모르고 메시지부터 선택하기떄문
        - 묻지말고시켜라 - 협력을 구주화하게돔, 정보를 물을필요없이 원하는것을 표현한 메세지를 전송함
        - 의도를 드러내는 인터페이스 - 메세지를 먼저 선택하는건 전송하는 클라이언트 관점에서 의 이름을 정함
        - 명령쿼리 분리 - 메세지를 먼저 선택하는건 문맥안에서 객체의 인터페이스에 대해 고민하는것이라 예측가능한 협력(객체의 상태 예)을 만들기위해 분리하게 될것
